jQuery(function(a){"use strict";var e,o=kco_admin_params.location,s=a("h3.wc-settings-sub-title"),t=a("h3.wc-settings-sub-title + table.form-table"),c=a(".wrap.woocommerce p.submit");s.append(' <a href="#" style="font-size:12px; font-weight: normal; text-decoration: none"><span class="dashicons dashicons-arrow-down-alt2"></span></a>'),t.css("marginLeft","20px").hide(),"EU"===o?(e=a("#woocommerce_kco_credentials_eu"),a("#woocommerce_kco_credentials_us").find("a").addClass("collapsed"),e.find("a").html('<span class="dashicons dashicons-arrow-up-alt2">'),e.next().show()):"US"===o?(e=a("#woocommerce_kco_credentials_us"),a("#woocommerce_kco_credentials_eu").find("a").addClass("collapsed"),e.find("a").html('<span class="dashicons dashicons-arrow-up-alt2">'),e.next().show()):e=s,a("#woocommerce_kco_color_settings_title").find("a").addClass("collapsed"),s.find("a").click(function(e){e.preventDefault(),a(this).hasClass("collapsed")?(a(this).parent().next().show(),a(this).removeClass("collapsed"),a(this).html('<span class="dashicons dashicons-arrow-up-alt2"></span>')):(a(this).parent().next().hide(),a(this).addClass("collapsed"),a(this).html('<span class="dashicons dashicons-arrow-down-alt2"></span>'))}),s.before('<hr style="margin-top:2em;margin-bottom:2em" />'),c.before('<hr style="margin-top:2em;margin-bottom:2em" />');var r=a("#woocommerce_kco_testmode"),n=a("#woocommerce_kco_test_merchant_id_eu"),l=a("#woocommerce_kco_test_shared_secret_eu"),i=a("#woocommerce_kco_test_merchant_id_eu"),d=a("#woocommerce_kco_test_shared_secret_eu"),m=a(".button-primary, .woocommerce-save-button");function _(){r.prop("checked")?"EU"===o?(m.prop("disabled",!0),n.val()||l.val()?l.val()?n.val()?m.prop("disabled",!1):(alert("Please enter a valid Test Merchant ID"),n.focus()):(alert("Please enter a valid Test Merchant Password"),l.focus()):(alert("Please enter valid Test Merchant information"),n.focus())):"US"===o&&(m.prop("disabled",!0),i.val()||d.val()?d.val()?i.val()?m.prop("disabled",!1):(alert("Please enter a valid Test Merchant ID"),i.focus()):(alert("Please enter a valid Test Merchant Password"),d.focus()):(alert("Please enter valid Test Merchant information"),i.focus())):m.prop("disabled",!1)}_(),r.click(function(){_()}),a("body").on("change","input#woocommerce_kco_test_merchant_id_eu, input#woocommerce_kco_merchant_id_eu, input#woocommerce_kco_test_merchant_id_us, input#woocommerce_kco_merchant_id_us",function(){var e=a(this);if(e.removeClass("bad_credential"),a('button[name="save"]').removeAttr("disabled"),""!==e.val())return/[A-Za-z]{1,2}[0-9]{5}/.test(e.val())?void 0:(e.addClass("bad_credential"),a('button[name="save"]').attr("disabled","disabled"),void window.alert("Please verify your Klarna Credentials."))})});